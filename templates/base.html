{{define "base"}}
<!doctype html>
<html lang="en">
    <head>
        <meta charset="UTF-8" />
        <meta name="viewport" content="width=device-width, initial-scale=1" />
        <meta name="description" content="{{.MetaDescription}}" />
        <title>{{.Title}} | Woodco Prefinishing</title>
        <!-- Icons -->
        <script
            src="https://kit.fontawesome.com/d1fe1a39af.js"
            crossorigin="anonymous"
        ></script>
        <!-- Styles -->
        <link rel="stylesheet" href="/assets/style.css" />
        <!-- HTMX -->
        <script src="https://unpkg.com/htmx.org@1.9.12"></script>
    </head>
    <body>
        <header class="site-header">
            <div class="container header-bar">
                <a class="brand" href="/">Woodco Prefinishing</a>
                <!-- Hamburger button -->
                <button
                    class="nav-toggle"
                    aria-expanded="false"
                    aria-controls="primary-nav"
                >
                    <span class="sr-only">Toggle navigation</span>
                    <span class="bar"></span><span class="bar"></span
                    ><span class="bar"></span>
                </button>
                <!-- Primary nav -->
                <nav
                    id="primary-nav"
                    class="nav-collapsible"
                    aria-label="Primary"
                >
                    <ul class="nav">
                        <li><a href="/">Home</a></li>
                        <li class="dropdown">
                            <button
                                class="dropbtn"
                                aria-haspopup="true"
                                aria-expanded="false"
                            >
                                Services
                            </button>
                            <ul class="menu" role="menu" aria-label="Services">
                                <li role="none">
                                    <a
                                        role="menuitem"
                                        href="/services/custom-finishes/"
                                        >Custom Finishes</a
                                    >
                                </li>
                                <li role="none">
                                    <a
                                        role="menuitem"
                                        href="/services/custom-processes/"
                                        >Custom Processes</a
                                    >
                                </li>
                                <li role="none">
                                    <a role="menuitem" href="/services/doors/"
                                        >Doors</a
                                    >
                                </li>
                                <li role="none">
                                    <a
                                        role="menuitem"
                                        href="/services/millwork/"
                                        >Millwork</a
                                    >
                                </li>
                                <li role="none">
                                    <a
                                        role="menuitem"
                                        href="/services/paneling/"
                                        >Paneling</a
                                    >
                                </li>
                                <li role="none">
                                    <a role="menuitem" href="/services/siding/"
                                        >Siding</a
                                    >
                                </li>
                            </ul>
                        </li>
                        <li>
                            <a href="/samples-brochures/"
                                >Samples &amp; Brochures</a
                            >
                        </li>
                        <li><a href="/clients/">Clients</a></li>
                        <li>
                            <a href="/why-prefinishing/">Why Prefinishing</a>
                        </li>
                        <li class="dropdown">
                            <button
                                class="dropbtn"
                                aria-haspopup="true"
                                aria-expanded="false"
                            >
                                Why Woodco
                            </button>
                            <ul
                                class="menu"
                                role="menu"
                                aria-label="Why Woodco"
                            >
                                <li role="none">
                                    <a
                                        role="menuitem"
                                        href="/why-woodco/equipment/"
                                        >Equipment</a
                                    >
                                </li>
                                <li role="none">
                                    <a
                                        role="menuitem"
                                        href="/why-woodco/history/"
                                        >History</a
                                    >
                                </li>
                            </ul>
                        </li>
                        <li><a href="/contact-us/">Contact</a></li>
                    </ul>
                </nav>
            </div>
        </header>
        <main class="container">{{template "content" .}}</main>
        <footer class="site-footer">
            <ul class="social">
                <li>
                    <a aria-label="Facebook" href="#"
                        ><i class="fa-brands fa-facebook"></i
                    ></a>
                </li>
                <li>
                    <a aria-label="Twitter/X" href="#"
                        ><i class="fa-brands fa-x-twitter"></i
                    ></a>
                </li>
                <li>
                    <a aria-label="LinkedIn" href="#"
                        ><i class="fa-brands fa-linkedin"></i
                    ></a>
                </li>
                <li>
                    <a aria-label="YouTube" href="#"
                        ><i class="fa-brands fa-youtube"></i
                    ></a>
                </li>
            </ul>
            <div class="container center">
                &copy; {{.Year}} Woodco Prefinishing. All rights reserved.
            </div>
        </footer>
        <script>
            // Hamburger toggle (ARIA + class)
            (function () {
                const btn = document.querySelector(".nav-toggle");
                const nav = document.getElementById("primary-nav");
                if (!btn || !nav) return;
                btn.addEventListener("click", () => {
                    const expanded =
                        btn.getAttribute("aria-expanded") === "true";
                    btn.setAttribute("aria-expanded", String(!expanded));
                    nav.classList.toggle("open", !expanded);
                    // Close any open dropdowns when collapsing
                    if (expanded) {
                        document
                            .querySelectorAll('.dropbtn[aria-expanded="true"]')
                            .forEach((b) =>
                                b.setAttribute("aria-expanded", "false"),
                            );
                    }
                });
                // Dropdown open/close for keyboard + click
                document.querySelectorAll(".dropbtn").forEach((dBtn) => {
                    const menu = dBtn.nextElementSibling;
                    dBtn.addEventListener("click", () => {
                        const open =
                            dBtn.getAttribute("aria-expanded") === "true";
                        dBtn.setAttribute("aria-expanded", String(!open));
                        if (!open) {
                            // close siblings
                            document
                                .querySelectorAll(".dropbtn")
                                .forEach((b) => {
                                    if (b !== dBtn)
                                        b.setAttribute(
                                            "aria-expanded",
                                            "false",
                                        );
                                });
                        }
                    });
                    // Close on Escape
                    dBtn.addEventListener("keydown", (e) => {
                        if (e.key === "Escape")
                            dBtn.setAttribute("aria-expanded", "false");
                    });
                    menu.addEventListener("keydown", (e) => {
                        if (e.key === "Escape")
                            dBtn.setAttribute("aria-expanded", "false");
                    });
                });
                // Close dropdowns when clicking outside
                document.addEventListener("click", (e) => {
                    if (!e.target.closest(".dropdown")) {
                        document
                            .querySelectorAll(".dropbtn")
                            .forEach((b) =>
                                b.setAttribute("aria-expanded", "false"),
                            );
                    }
                });
            })();
        </script>
    </body>
</html>
{{end}}
